<section id="profile" class="p-10 pt-20 text-center fade-in transition-opacity duration-500">
    <h2 class="text-3xl font-bold">User Profile</h2>
    <p class="text-gray-400 mt-2">View and update your profile information</p>

    <div class="mt-6 bg-gray-800 p-6 rounded-lg shadow-lg max-w-lg mx-auto text-center">
        <!-- Profile Picture -->
        <img id="profile-pic" src="https://media.licdn.com/dms/image/v2/D4D03AQHGUg0NhF_xVg/profile-displayphoto-shrink_800_800/B4DZPN4S1OHcAc-/0/1734325908946?e=1745452800&v=beta&t=UE9L_-dF_L3dHc5PmRHrMi3WW9xDpTxjOEMugDsByKM"
            alt="Profile Picture of Arghya Roy"
            class="rounded-full w-32 mx-auto border-4 border-gray-700 transition-transform duration-300 hover:scale-105">

        <h3 id="profile-name" class="text-xl font-bold mt-4 text-white">Arghya Roy</h3>
        <p id="profile-username" class="text-gray-400">@Bubun-M</p>

        <p class="mt-2 text-gray-300">
            Participation: <span id="profile-participation" class="font-semibold text-blue-400">5</span> Events |
            Wins: <span id="profile-wins" class="font-semibold text-green-400">2</span>
        </p>

        <div class="mt-4 text-left text-gray-300">
            <p><strong>Email:</strong> <span id="profile-email">royarghya@gmail.com</span></p>
            <p><strong>Role:</strong> <span id="profile-role">Participant</span></p>
            <p><strong>Joined:</strong> <span id="profile-joined">January 2025</span></p>
        </div>

        <button id="edit-profile-btn"
            class="mt-4 bg-blue-500 hover:bg-blue-600 text-white font-semibold px-4 py-2 rounded-lg w-full transition duration-300">
            Edit Profile
        </button>
    </div>

    <!-- Profile Edit Modal -->
    <div id="edit-profile-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center transition-opacity duration-300">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg w-11/12 sm:w-1/2 md:w-1/3 transform scale-95 opacity-0 transition-transform transition-opacity duration-300">
            <h3 class="text-xl font-bold text-center text-white">Edit Profile</h3>
            <input type="text" id="edit-name" placeholder="Full Name" class="w-full p-2 mb-2 rounded-lg text-black">
            <input type="text" id="edit-username" placeholder="Username" class="w-full p-2 mb-2 rounded-lg text-black">
            <input type="email" id="edit-email" placeholder="Email" class="w-full p-2 mb-2 rounded-lg text-black">
            <input type="number" id="edit-participation" placeholder="Participation Count" class="w-full p-2 mb-2 rounded-lg text-black">
            <input type="number" id="edit-wins" placeholder="Wins" class="w-full p-2 mb-2 rounded-lg text-black">
            <p id="error-msg" class="text-red-500 text-center hidden">Please fill all fields correctly!</p>
            <button id="save-profile-btn" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded w-full">Save Changes</button>
            <button id="close-modal" class="mt-2 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded w-full">Cancel</button>
        </div>
    </div>

    <!-- Profile Picture Upload Form -->
    <form id="profile-pic-form" enctype="multipart/form-data" class="mt-4">
        <input type="file" id="profile-pic-input" accept="image/*" class="hidden">
        <label for="profile-pic-input" class="cursor-pointer bg-blue-500 text-white px-3 py-2 rounded-lg">
            Change Profile Picture
        </label>
        <button type="submit" class="bg-green-500 text-white px-3 py-2 rounded-lg ml-2">Upload</button>
    </form>
</section>

<!-- JavaScript -->
<script>
document.addEventListener("DOMContentLoaded", () => {
    const modal = document.getElementById("edit-profile-modal");
    const editBtn = document.getElementById("edit-profile-btn");
    const closeModal = document.getElementById("close-modal");
    const saveBtn = document.getElementById("save-profile-btn");
    const errorMsg = document.getElementById("error-msg");
    const profilePicInput = document.getElementById("profile-pic-input");
    const profilePic = document.getElementById("profile-pic");
    const modalContent = modal.querySelector("div");

    // Load Profile Data
    const loadProfile = () => {
        let profile = JSON.parse(localStorage.getItem("profile")) || {};
        document.getElementById("profile-name").innerText = profile.name || "Arghya Roy";
        document.getElementById("profile-username").innerText = profile.username || "@Bubun-M";
        document.getElementById("profile-email").innerText = profile.email || "royarghya@gmail.com";
        document.getElementById("profile-participation").innerText = profile.participation || "5";
        document.getElementById("profile-wins").innerText = profile.wins || "2";
        if (profile.pic) profilePic.src = profile.pic;
    };

    // Open Modal with Smooth Animation
    editBtn.addEventListener("click", () => {
        modal.classList.remove("hidden");
        setTimeout(() => {
            modal.classList.add("opacity-100");
            modalContent.classList.add("scale-100", "opacity-100");
        }, 10);
    });

    // Close Modal
    closeModal.addEventListener("click", () => {
        modal.classList.add("opacity-0");
        modalContent.classList.add("scale-95");
        setTimeout(() => {
            modal.classList.add("hidden");
            modal.classList.remove("opacity-100");
            modalContent.classList.remove("scale-100", "opacity-100");
        }, 300);
    });

    // Save Profile Changes
    saveBtn.addEventListener("click", () => {
        let updatedProfile = {
            name: document.getElementById("edit-name").value.trim(),
            username: document.getElementById("edit-username").value.trim(),
            email: document.getElementById("edit-email").value.trim(),
            participation: document.getElementById("edit-participation").value.trim(),
            wins: document.getElementById("edit-wins").value.trim(),
            pic: profilePic.src
        };

        if (!updatedProfile.name || !updatedProfile.username || !updatedProfile.email.includes("@")) {
            errorMsg.classList.remove("hidden");
            return;
        }
        errorMsg.classList.add("hidden");
        localStorage.setItem("profile", JSON.stringify(updatedProfile));
        loadProfile();
        closeModal.click();
    });

    // Profile Picture Upload Preview
    profilePicInput.addEventListener("change", function () {
        const file = this.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function (e) {
                profilePic.src = e.target.result;
                let profile = JSON.parse(localStorage.getItem("profile")) || {};
                profile.pic = e.target.result;
                localStorage.setItem("profile", JSON.stringify(profile));
            };
            reader.readAsDataURL(file);
        }
    });

    loadProfile();
});
</script>

        
    <!-- Enhanced Features with Animations -->
    <script>
        document.querySelectorAll(".hover:scale-105").forEach(item => {
            item.addEventListener("mouseover", () => item.classList.add("scale-110"));
            item.addEventListener("mouseout", () => item.classList.remove("scale-110"));
        });
    </script>
</section>
